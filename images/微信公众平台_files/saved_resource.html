<!DOCTYPE html>
<!-- saved from url=(0011)about:blank -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">body{font-family:sans-serif;}</style><link rel="stylesheet" type="text/css" href="https://res.wx.qq.com/mpres/htmledition/style/widget/ueditor_new/themes/iframe3118ec.css"><style id="table">.selectTdClass{background-color:#edf5fa !important}table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}table{margin-bottom:10px;border-collapse:collapse;display:table;}td,th{padding: 5px 10px;border: 1px solid #DDD;}caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}th{border-top:2px solid #BBB;background:#F7F7F7;}.ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }td p{margin:0;padding:0;}</style><style id="list">ol,ul{margin:0;padding:0;width:95%}li{clear:both;}.list-paddingleft-1{padding-left:0}
.list-paddingleft-2{padding-left:30px}
.list-paddingleft-3{padding-left:60px}</style><style id="pre">pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}</style></head><body class="view" lang="en" contenteditable="true" spellcheck="false" style="overflow-y: hidden; cursor: text;"><h2 style="color: rgb(0, 150, 136) !important; text-align: center !important; margin: 1.5em 5px !important; padding: 0.5em 1em !important;font-size: 20px !important; border-bottom: 1px solid rgb(238, 238, 238) !important;"><img data-s="300,640" data-type="jpeg" src="https://mmbiz.qlogo.cn/mmbiz_jpg/O8Vz4KCqibjBuKxPKM2HicBGmnjvvGSCL9r4PDdHVFvYFeYfSyk11jW10bN0uxhhOqb2IWRn6q60pkmWymtz9hKA/0?wx_fmt=jpeg" data-ratio="0.62890625" data-w="1280" _src="https://mmbiz.qlogo.cn/mmbiz_jpg/O8Vz4KCqibjBuKxPKM2HicBGmnjvvGSCL9r4PDdHVFvYFeYfSyk11jW10bN0uxhhOqb2IWRn6q60pkmWymtz9hKA/0?wx_fmt=jpeg"><br>前言</h2><p style="margin: 1.5em 5px !important;">一个老梗：从前有个年轻人，在小时候就表示，他渴望将来能成为一个伟大的作家。别人问：“怎样才能算是伟大？” 他说：“全世界的人都会阅读我的作品，这些作品会唤起人们内心最深处的反应，这些作品会让他们在痛苦和愤怒之中尖叫、哭泣和咆哮！” 这个人目前就职于微软公司，负责撰写错误信息。</p><p style="margin: 1.5em 5px !important;">程序员碰到机器抛出错误信息的几率，是普通人的<span style="color: rgb(255, 127, 80);">数十倍甚至数百倍</span>。Bug（程序错误/漏洞）让大家沮丧、无措、寝食难安。<br>特别是新手，<span style="color: rgb(255, 127, 80);">每次写的程序，bug怎么都查不出来，很受伤！</span>那些红红的异常信息，像是无情的嘲笑！怎么办？</p><p style="margin: 1.5em 5px !important;">本文以Javascript为例，<span style="color: rgb(255, 127, 80);">介绍五大法宝，助你轻松抓虫，顺利通关。</span></p><p style="margin: 1.5em 5px !important;">毛主席说过：战略上藐视敌人，战术上重视敌人。</p><h2 style="color: rgb(0, 150, 136) !important; text-align: center !important; margin: 1.5em 5px !important; padding: 0.5em 1em !important;font-size: 20px !important; border-bottom: 1px solid rgb(238, 238, 238) !important;">战略上藐视Bug</h2><p style="margin: 1.5em 5px !important;"><span style="color: rgb(255, 127, 80);">首先要调整心态。</span><br>只要写程序，就会遇到Bug。<br>只要你不断努力，Bug终究会被解掉！<br>解不了，<span style="white-space: pre-wrap;">可以</span>通过其他途径绕过去么？先继续前行，等级数高了，再解不迟。<br>实在绕不开，上网求助。http://stackoverflow.com/ 是个好去处。<br>实在解不了。没啥大不了的！千年虫那样的Bug，影响那么大，范围那么广的Bug，最终不也被灭了！早晚的事。</p><p style="margin: 1.5em 5px !important;">当程序员，要不断强壮自己的内心，<span style="color: rgb(255, 127, 80);">要接纳Bug，习惯bug，直到看见bug</span>，<span style="color: rgb(255, 127, 80);">心生欢喜</span>。欢喜，纳尼？《黑客与画家》Paul Graham 说：</p><blockquote style="margin: 10px 5px;border-left: 2px solid rgb(0, 150, 136); padding: 0px 10px; color: rgb(119, 119, 119); quotes: none; margin-left: 1em;"><p style="margin: 1.5em 5px !important;">“消灭bug的过程就像解一道数学题，已知许许多多的约束条件，你只要根据条件对方程求解就可以了。你的程序应该能产生x结果，但是却产生了y结果。哪里出错了？你知道自己最后肯定能解决这个问题，所以做起来就很轻松，就好像刷墙一样，接近于休闲了。”</p></blockquote><p style="margin: 1.5em 5px !important;">大神说，<strong style="color: rgb(255, 127, 80);">解bug，就是休闲！</strong> 休闲自然欢喜！</p><h2 style="color: rgb(0, 150, 136) !important; text-align: center !important; margin: 1.5em 5px !important; padding: 0.5em 1em !important;font-size: 20px !important; border-bottom: 1px solid rgb(238, 238, 238) !important;">战术上 ——五大法宝重视Bug</h2><ul style="list-style-type: circle;" class=" list-paddingleft-2"><li><p>善用工具</p></li><li><p>Log，Log，Log！</p></li><li><p>断点调试</p></li><li><p>错误处理</p></li><li><p>Git备份</p></li></ul><h3 style="font-size: 18px; color: rgb(0, 150, 136) !important; text-align: left; margin: 1.5em 5px !important; padding: 0.5em 1em !important;">善用工具</h3><p style="margin: 1.5em 5px !important;">许多开发平台自带集成工具，善用工具能让Debug更高效。<br>调试JavaScript，推荐Chrome自带的 “开发者工具”。按F12或通过菜单调用。</p><p style="margin: 1.5em 5px !important;"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUESQbj2oXm9dCkag7tCHhJvNgdqcYAib5d2ic3wYdNWicBB7k0LeBwV1zg/0?wx_fmt=png" data-ratio="0.6306084818684696" data-w="1627" _src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUESQbj2oXm9dCkag7tCHhJvNgdqcYAib5d2ic3wYdNWicBB7k0LeBwV1zg/0?wx_fmt=png"><br></p><p style="margin: 1.5em 5px !important;">控制台有如下重要组件：<br><strong style="color: rgb(255, 127, 80);">Elements</strong>：就是HTML 页面元素，可以进行编辑，保存后实时查看页面效果。</p><p style="margin: 1.5em 5px !important;"><strong style="color: rgb(255, 127, 80);">Console</strong>：模拟js控制台。可以写代码，看结果。可以在开启断点后，查看变量的变化过程。还可以调用用函数。</p><p style="margin: 1.5em 5px !important;"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUH6yXae0UKT5DYy3KSVPMcFraVXbKTVFAJZ0FVu5I6mEGibhE8EIDZzw/0?wx_fmt=png" data-ratio="0.8370927318295739" data-w="1197" _src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUH6yXae0UKT5DYy3KSVPMcFraVXbKTVFAJZ0FVu5I6mEGibhE8EIDZzw/0?wx_fmt=png"><br></p><p style="margin: 1.5em 5px !important;"><strong style="color: rgb(255, 127, 80);">Sources</strong>：查看加载本页面所调用的资源，如js，css，php。<strong style="color: rgb(255, 127, 80);">断点调试就在这里设定</strong>。通过它，可以查看程序执行过程，控制程序执行。还可以在js里直接写代码，查看实时数据变化。</p><p style="margin: 1.5em 5px !important;"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUuSurwelNbib0AM0ZesibibXEN9sm5mIUnqbtZBW6xQfcx2HFnyBtego4w/0?wx_fmt=png" data-ratio="0.8383733055265902" data-w="959" _src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUuSurwelNbib0AM0ZesibibXEN9sm5mIUnqbtZBW6xQfcx2HFnyBtego4w/0?wx_fmt=png"><br></p><p style="margin: 1.5em 5px !important;"><strong style="color: rgb(255, 127, 80);">Network</strong>： 查看js模拟的http请求，可以实时的看到请求地址，点击请求地址，会把请求的头信息和响应信息等数据展示出来。<br>Resources：查看加载页面所用资源，链接的数据库，域名下保存的cookie信息等。<br>其它的，Timeline,Profile, Audits 主要测试人员使用，暂时用不到。</p><p style="margin: 1.5em 5px !important;"><br></p><h3 style="font-size: 18px; color: rgb(0, 150, 136) !important; text-align: left; margin: 1.5em 5px !important; padding: 0.5em 1em !important;">断点调试</h3><p style="margin: 1.5em 5px !important;">断点调试就是超能钛合金追踪仪，一步步调试，总能追到Bug的老巢，把Bug一网打尽。<br><span style="color: rgb(255, 127, 80);">首先，</span><span style="color: rgb(255, 127, 80);">用鼠标单击行号</span>，使得行号的背景变为蓝色，这样就相当于在该行打了一个断点。<br><span style="color: rgb(255, 127, 80);">条件断点</span>：在断点位置的右键菜单中选择“Edit Breakpoint…”可以设置触发断点的条件，就是写一个表达式，表达式为 true 时才触发断点。</p><p style="margin: 1.5em 5px !important;"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdU4jlrOqGnI4S3qic4uSBdN56yewdccUXlk9VyAJImVfnpDMXkDS3NxNg/0?wx_fmt=png" data-ratio="0.9372881355932203" data-w="590" _src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdU4jlrOqGnI4S3qic4uSBdN56yewdccUXlk9VyAJImVfnpDMXkDS3NxNg/0?wx_fmt=png"><br></p><p style="margin: 1.5em 5px !important;"><span style="color: rgb(255, 127, 80);">然后</span><span style="color: rgb(255, 127, 80);">，</span><span style="color: rgb(255, 127, 80);">按住键盘上的F11</span>，可以<span style="color: rgb(255, 127, 80);">逐行运行函数代码</span>。哪一行出了问题，立刻现形。<br>常用的快捷键如下：</p><ul style="list-style-type: circle;" class=" list-paddingleft-2"><li><p>Continue：<span style="color: rgb(255, 127, 80);">继续执行代码，直至遇到另一个断点。</span><br>在Mac上为 F10 或者 Command + ‘，在其他平台上为 Ctrl + ‘。</p></li><li><p>Step over：<span style="color: rgb(255, 127, 80);">逐行执行，以了解每一行如何操作当前的变量。</span>当代码调用另一个函数的时候，调试器不会跳到那个函数的代码中去，其焦点还是当前的函数，而 Step into 则相反。<br>在Mac上为 F10 或者 Command + ‘，在其他平台上为 Ctrl + ‘</p></li><li><p>Step into：逐行执行，<span style="color: rgb(255, 127, 80);">但会将执行转到所调用的函数声明中去</span>。<br>在Mac上为 F11 或者 Command + ;，在其他平台上为 Ctrl + ;。</p></li><li><p>Step out：当使用Step into进入某函数内部后，用以<span style="color: rgb(255, 127, 80);">跳过该函数声明的剩余部分，调试器会将执行过程移动到其父函数中。</span><br>在Mac上为 Shift + F11 或者 Shift + Command + ;，在其他平台上为 Shift+ Ctrl + ;。<br>更多内容，请参考：<br>Chrome 开发工具指南 (http://wiki.jikexueyuan.com/project/chrome-devtools/debugging-javascript.html)</p><p class="p1"><span class="s1">debugging-javascript </span>(<span class="s3">http://wiki.jikexueyuan.com/project/chrome-devtools/debugging-javascript.html)</span></p></li></ul><h3 style="font-size: 18px; color: rgb(0, 150, 136) !important; text-align: left; margin: 1.5em 5px !important; padding: 0.5em 1em !important;">Log, Log, Log</h3><p style="margin: 1.5em 5px !important;">重要的事情说三遍！在<span style="color: rgb(255, 127, 80);">需要检查的位置</span>加打印信息，使其在控制台输出，来<span style="color: rgb(255, 127, 80);">判定问题的发生位置</span>！<br>在过去艰苦的年代，程序员不得不随处插alert()打印讯息,费时费力（使用之后需要清理），又不讨好（没有及时拿掉，想想用户点一个按钮，就跳出一个警告框）。<br>现在我们有了强大的Console.log。随时随地可以打印：</p><p style="margin: 1.5em 5px !important;">主要使用下列方法：</p><ul style="list-style-type: circle;" class=" list-paddingleft-2"><li><p><span style="color: rgb(255, 127, 80);">console.log</span> &nbsp;输出普通信息</p></li><li><p><span style="color: rgb(255, 127, 80);">console.info</span> 输出提示性信息</p></li><li><p><span style="color: rgb(255, 127, 80);">console.error</span> 输出错误信息</p></li><li><p><span style="color: rgb(255, 127, 80);">console.warn </span>&nbsp;输出警告信息</p></li><li><p><span style="color: rgb(255, 127, 80);">console.debug </span>输出调试信息</p></li></ul><p><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUexowzOYL3o5TJ2VgzHib2EBKt4BTHHibROe9QicHPGOu2Mq09oiblyepzA/0?wx_fmt=png" data-ratio="0.3592964824120603" data-w="398" _src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUexowzOYL3o5TJ2VgzHib2EBKt4BTHHibROe9QicHPGOu2Mq09oiblyepzA/0?wx_fmt=png"><br><br></p><p style="margin: 1.5em 5px !important;">上面5种方法，都可以使用printf风格的占位符。不过，占位符的种类比较少，只支持字符（%s）、整数（%d或%i）、浮点数（%f）和对象（%o）四种。</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">console.log("%d年%d月%d日",2016,11,26);
console.log("圆周率是%f",3.1415926);</code></pre><h3 style="font-size: 18px; color: rgb(0, 150, 136) !important; text-align: left; margin: 1.5em 5px !important; padding: 0.5em 1em !important;"><img data-s="300,640" data-type="png" src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUhW1yZIEVlMhbO3m6Jur1Rbm6pnPOyX5ib8XvfkhQlKHKb8Kic0V9KPUg/0?wx_fmt=png" data-ratio="0.3493670886075949" data-w="395" _src="https://mmbiz.qlogo.cn/mmbiz_png/O8Vz4KCqibjBAic5Y48Rfu91I2GamkOzdUhW1yZIEVlMhbO3m6Jur1Rbm6pnPOyX5ib8XvfkhQlKHKb8Kic0V9KPUg/0?wx_fmt=png"><br></h3><h3 style="font-size: 18px; color: rgb(0, 150, 136) !important; text-align: left; margin: 1.5em 5px !important; padding: 0.5em 1em !important;">错误处理</h3><p style="margin: 1.5em 5px !important;">错误处理在程序设计中非常重要。我们在程序中，<span style="color: rgb(255, 127, 80);">怀疑会出错的地方，都添上错误处理！</span>可以及时的知道哪里发生了错误，发生了那种错误，为Debug获得更多的信息。</p><p style="margin: 1.5em 5px !important;">JavaScript的错误处理，主要有：</p><ul style="list-style-type: circle;" class=" list-paddingleft-2"><li><p><span style="color: rgb(255, 127, 80);">try-catch 语句</span>：捕获错误，用自己的方式处理错误，而不用浏览器的处理方式。 &nbsp;</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">try {
 &nbsp; //可能会发生错误的代码
}catch（error）{
 &nbsp; //错误发生时怎么处理
 &nbsp; // eg. alert("An good error happened! See what happen?");
}finally {
 &nbsp;//可加可不加，加了finally，无论如何都会执行这一句。
}</code></pre></li><li><p><span style="color: rgb(255, 127, 80);">throw 操作符</span> ： 提供错误发生的具体原因。<br>随时立即停止执行代码，抛出自定义错误。当你不知道你的函数为什么会失败，需要更多信息时，使用throw 抛出自定义错误是一种很方便的方式。</p></li><li><p><span style="color: rgb(255, 127, 80);">assert（）</span> 抛出自定义错误<br>用assert（）替换某些函数中需要调试的if语句，以便输出错误消息。</p></li></ul><h3 style="font-size: 18px; color: rgb(0, 150, 136) !important; text-align: left; margin: 1.5em 5px !important; padding: 0.5em 1em !important;">Git备份</h3><p style="margin: 1.5em 5px !important;">Git代码仓就是月光宝盒！这个时光机来保存代码实在太方便了。每次改动都保存，随时随地都保存。可以<span style="color: rgb(255, 127, 80);">很方便的对比改动，回退改动</span>，更快知道<span style="color: rgb(255, 127, 80);">哪个改动导致了错误</span>。</p><ul style="list-style-type: circle;" class=" list-paddingleft-2"><li><p style="margin: 1.5em 5px !important;margin: 10px 0px !important;"><span style="color: rgb(255, 127, 80);">新建分支</span><br>每一次重要改动，都可以新建一个分支。</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">$git brach newbranch
$git checkout newbranch.</code></pre><p style="margin: 1.5em 5px !important;margin: 10px 0px !important;">一旦改烂了，可以立刻回到上一个还没改动的branch.</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">$git checkout oldbranch.</code></pre></li><li><p style="margin: 1.5em 5px !important;margin: 10px 0px !important;"><span style="color: rgb(255, 127, 80);">版本控制</span><br>不过我最喜欢用的是：</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">$ git reset --hard oldversion</code></pre><p style="margin: 1.5em 5px !important;margin: 10px 0px !important;">简单暴力。一旦改烂。git reset —hard， 整个世界都清净了。<br>有同学说，git reset —hard太暴力，如果需要看改后的代码，怎么办？只要你上一次的版本提交了。就能办。<br>首先，使用</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">$ <span style="color: rgb(255, 127, 80);">git reflog</span></code></pre><p style="margin: 1.5em 5px !important;margin: 10px 0px !important;">使用它，可以查看所有分支的所有操作记录(包括commit和reset的操作),包括已经被删除的commit记录，非常强大。（而git log则不能察看已经删除了的commit记录。）<br>其次，再用</p><pre style=" font-size: 14px; ; ; ; ; ; ; ; "><code style=" font-size: 14px; ; ; ; ; ; ; ; ; ; ; ; ">$ <span style="color: rgb(255, 127, 80);">git reset --hard</span> <span style="color: rgb(255, 127, 80);">版本号</span>，就都回来了。</code></pre><p style="margin: 1.5em 5px !important;margin: 10px 0px !important;">更多内容，请参考：git cheat sheet</p></li></ul><p style="margin: 1.5em 5px !important;">大神说过，<span style="color: rgb(255, 127, 80);">解bug，就是休闲！</span> 休闲自然欢喜！<br><strong><span style="color: rgb(255, 127, 80);">相信我，只要不断编程，不断进步，迟早有一天，你一定会到达这个境界的。 共勉！</span></strong></p><p style="margin: 1.5em 5px !important;">欢迎大家留言补充探讨。</p><p style="margin: 1.5em 5px !important;"><span style="font-size: 14px;"><strong>欢迎大家关注我的微信公众号，我会在上面记录：实践元学习理论，打怪通关的过程</strong></span>。<strong style="font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(62, 62, 62);"><span class="" style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">欢迎访问我的博客 http://elizachen.cc</span><span style="max-width: 100%; letter-spacing: 0.1em; box-sizing: border-box !important; word-wrap: break-word !important;">！</span></strong></p><p><strong style="color: rgb(62, 62, 62); font-size: 14px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">个人转载内容至朋友圈和群聊天，无需特别申请版权许可。</strong><br></p><p class="" style="max-width: 100%; min-height: 1em; color: rgb(62, 62, 62); font-size: 16px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; word-wrap: break-word !important;"><span style="max-width: 100%; font-size: 14px; box-sizing: border-box !important; word-wrap: break-word !important;"><strong style="max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;">转载时请务必注明出处。</strong></span></p><p style="margin: 1.5em 5px !important;"><img data-s="300,640" data-type="jpeg" src="https://mmbiz.qlogo.cn/mmbiz_jpg/O8Vz4KCqibjDBSrDAup50DrOSt5EAic66Iu55D8VbQDKONSl74icLfWMpbROafyX0wDQV22X28ybiawvRuEgBLPHVw/0?wx_fmt=jpeg" data-ratio="0.9921875" data-w="640" _src="https://mmbiz.qlogo.cn/mmbiz_jpg/O8Vz4KCqibjDBSrDAup50DrOSt5EAic66Iu55D8VbQDKONSl74icLfWMpbROafyX0wDQV22X28ybiawvRuEgBLPHVw/0?wx_fmt=jpeg"><br></p></body></html>